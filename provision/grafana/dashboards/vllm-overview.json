{
  "id": null,
  "title": "vLLM Overview",
  "schemaVersion": 39,
  "version": 1,
  "panels": [
    {
      "type": "stat",
      "title": "Requests/s",
      "targets": [
        {"expr": "sum(rate(vllm_requests_total[1m]))"}
      ],
      "gridPos": {"x":0,"y":0,"w":6,"h":4}
    },
    {
      "type": "timeseries",
      "title": "Latency p50/p95",
      "targets": [
        {"expr": "histogram_quantile(0.50, sum(rate(vllm_request_duration_seconds_bucket[5m])) by (le))"},
        {"expr": "histogram_quantile(0.95, sum(rate(vllm_request_duration_seconds_bucket[5m])) by (le))"}
      ],
      "gridPos": {"x":6,"y":0,"w":18,"h":8}
    },
    {
      "type": "timeseries",
      "title": "GPU Utilization",
      "targets": [{"expr": "avg(nvidia_gpu_utilization)"}],
      "gridPos": {"x":0,"y":8,"w":12,"h":8}
    },
    {
      "type": "timeseries",
      "title": "GPU Memory Used (MiB)",
      "targets": [{"expr": "avg(nvidia_gpu_memory_used_bytes)/1024/1024"}],
      "gridPos": {"x":12,"y":8,"w":12,"h":8}
    },
    {
      "type": "logs",
      "title": "vLLM Logs",
      "options": {"dedupStrategy":"none"},
      "targets": [{"expr":"{container=\"vllm\"}"}],
      "gridPos": {"x":0,"y":16,"w":24,"h":8},
      "datasource": {"type":"loki","uid":"loki"}
    }
  ]
}
